{"remainingRequest":"C:\\Users\\81426\\Desktop\\jingdong\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\81426\\Desktop\\jingdong\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\81426\\Desktop\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\81426\\Desktop\\jingdong\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\81426\\Desktop\\jingdong\\src\\views\\shop\\Content.vue?vue&type=template&id=5fe3c94c&scoped=true","dependencies":[{"path":"C:\\Users\\81426\\Desktop\\jingdong\\src\\views\\shop\\Content.vue","mtime":1690369927802},{"path":"C:\\Users\\81426\\Desktop\\jingdong\\babel.config.js","mtime":1690369923692},{"path":"C:\\Users\\81426\\Desktop\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\81426\\Desktop\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\81426\\Desktop\\jingdong\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\81426\\Desktop\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\81426\\Desktop\\jingdong\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBub3JtYWxpemVDbGFzcyBhcyBfbm9ybWFsaXplQ2xhc3MsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKY29uc3QgX3dpdGhTY29wZUlkID0gbiA9PiAoX3B1c2hTY29wZUlkKCJkYXRhLXYtNWZlM2M5NGMiKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbik7CmNvbnN0IF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJjb250ZW50Igp9Owpjb25zdCBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAiY2F0ZWdvcnkiCn07CmNvbnN0IF9ob2lzdGVkXzMgPSBbIm9uQ2xpY2siXTsKY29uc3QgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogInByb2R1Y3QiCn07CmNvbnN0IF9ob2lzdGVkXzUgPSBbInNyYyJdOwpjb25zdCBfaG9pc3RlZF82ID0gewogIGNsYXNzOiAicHJvZHVjdF9faXRlbV9fZGV0YWlsIgp9Owpjb25zdCBfaG9pc3RlZF83ID0gewogIGNsYXNzOiAicHJvZHVjdF9faXRlbV9fdGl0bGUiCn07CmNvbnN0IF9ob2lzdGVkXzggPSB7CiAgY2xhc3M6ICJwcm9kdWN0X19pdGVtX19zYWxlcyIKfTsKY29uc3QgX2hvaXN0ZWRfOSA9IHsKICBjbGFzczogInByb2R1Y3RfX2l0ZW1fX3ByaWNlIgp9Owpjb25zdCBfaG9pc3RlZF8xMCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoKCkgPT4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgY2xhc3M6ICJwcm9kdWN0X19pdGVtX195ZW4iCn0sICLCpSIsIC0xIC8qIEhPSVNURUQgKi8pKTsKY29uc3QgX2hvaXN0ZWRfMTEgPSB7CiAgY2xhc3M6ICJwcm9kdWN0X19pdGVtX19vcmlnaW4iCn07CmNvbnN0IF9ob2lzdGVkXzEyID0gewogIGNsYXNzOiAicHJvZHVjdF9fbnVtYmVyIgp9Owpjb25zdCBfaG9pc3RlZF8xMyA9IFsib25DbGljayJdOwpjb25zdCBfaG9pc3RlZF8xNCA9IFsib25DbGljayJdOwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAuY2F0ZWdvcmllcywgaXRlbSA9PiB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoewogICAgICAgICdjYXRlZ29yeV9faXRlbSc6IHRydWUsCiAgICAgICAgJ2NhdGVnb3J5X19pdGVtLS1hY3RpdmUnOiAkc2V0dXAuY3VycmVudFRhYiA9PT0gaXRlbS50YWIKICAgICAgfSksCiAgICAgIGtleTogaXRlbS5uYW1lLAogICAgICBvbkNsaWNrOiAoKSA9PiAkc2V0dXAuaGFuZGxlVGFiQ2xpY2soaXRlbS50YWIpCiAgICB9LCBfdG9EaXNwbGF5U3RyaW5nKGl0ZW0ubmFtZSksIDExIC8qIFRFWFQsIENMQVNTLCBQUk9QUyAqLywgX2hvaXN0ZWRfMyk7CiAgfSksIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLykpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC5saXN0LCBpdGVtID0+IHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgY2xhc3M6ICJwcm9kdWN0X19pdGVtIiwKICAgICAga2V5OiBpdGVtLl9pZAogICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImltZyIsIHsKICAgICAgY2xhc3M6ICJwcm9kdWN0X19pdGVtX19pbWciLAogICAgICBzcmM6IGl0ZW0uaW1nVXJsCiAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBfaG9pc3RlZF81KSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImg0IiwgX2hvaXN0ZWRfNywgX3RvRGlzcGxheVN0cmluZyhpdGVtLm5hbWUpLCAxIC8qIFRFWFQgKi8pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJwIiwgX2hvaXN0ZWRfOCwgIuaciOWUriAiICsgX3RvRGlzcGxheVN0cmluZyhpdGVtLnNhbGVzKSArICIg5Lu2IiwgMSAvKiBURVhUICovKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIF9ob2lzdGVkXzksIFtfaG9pc3RlZF8xMCwgX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKGl0ZW0ucHJpY2UpICsgIiAiLCAxIC8qIFRFWFQgKi8pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfMTEsICLCpSIgKyBfdG9EaXNwbGF5U3RyaW5nKGl0ZW0ub2xkUHJpY2UpLCAxIC8qIFRFWFQgKi8pXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTIsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgewogICAgICBjbGFzczogInByb2R1Y3RfX251bWJlcl9fbWludXMgaWNvbmZvbnQiLAogICAgICBvbkNsaWNrOiAoKSA9PiB7CiAgICAgICAgJHNldHVwLmNoYW5nZUNhcnRJdGVtKCRzZXR1cC5zaG9wSWQsIGl0ZW0uX2lkLCBpdGVtLCAtMSwgJHByb3BzLnNob3BOYW1lKTsKICAgICAgfQogICAgfSwgIu6akSIsIDggLyogUFJPUFMgKi8sIF9ob2lzdGVkXzEzKSwgX2NyZWF0ZVRleHRWTm9kZSgiICIgKyBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5nZXRQcm9kdWN0Q2FydENvdW50KCRzZXR1cC5zaG9wSWQsIGl0ZW0uX2lkKSkgKyAiICIsIDEgLyogVEVYVCAqLyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgICAgIGNsYXNzOiAicHJvZHVjdF9fbnVtYmVyX19wbHVzIGljb25mb250IiwKICAgICAgb25DbGljazogKCkgPT4gewogICAgICAgICRzZXR1cC5jaGFuZ2VDYXJ0SXRlbSgkc2V0dXAuc2hvcElkLCBpdGVtLl9pZCwgaXRlbSwgMSwgJHByb3BzLnNob3BOYW1lKTsKICAgICAgfQogICAgfSwgIu6ZqCIsIDggLyogUFJPUFMgKi8sIF9ob2lzdGVkXzE0KV0pXSk7CiAgfSksIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLykpXSldKTsKfQ=="},{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_Fragment","_renderList","$setup","categories","item","_normalizeClass","currentTab","tab","key","name","onClick","handleTabClick","_hoisted_3","_hoisted_4","list","_id","src","imgUrl","_hoisted_6","_hoisted_7","_toDisplayString","_hoisted_8","sales","_hoisted_9","_hoisted_10","price","_hoisted_11","oldPrice","_hoisted_12","changeCartItem","shopId","$props","shopName","_hoisted_13","getProductCartCount","_hoisted_14"],"sources":["C:\\Users\\81426\\Desktop\\jingdong\\src\\views\\shop\\Content.vue"],"sourcesContent":["<template>\n  <div class=\"content\">\n    <div class=\"category\">\n      <div\n        :class=\"{'category__item': true, 'category__item--active': currentTab === item.tab}\"\n        v-for=\"item in categories\"\n        :key=\"item.name\"\n        @click=\"() => handleTabClick(item.tab)\"\n      >\n        {{item.name}}\n      </div>\n    </div>\n    <div class=\"product\">\n      <div\n        class=\"product__item\"\n        v-for=\"item in list\"\n        :key=\"item._id\"\n      >\n        <img class=\"product__item__img\" :src=\"item.imgUrl\" />\n        <div class=\"product__item__detail\">\n          <h4 class=\"product__item__title\">{{item.name}}</h4>\n          <p class=\"product__item__sales\">月售 {{item.sales}} 件</p>\n          <p class=\"product__item__price\">\n            <span class=\"product__item__yen\">&yen;</span>{{item.price}}\n            <span class=\"product__item__origin\">&yen;{{item.oldPrice}}</span>\n          </p>\n        </div>\n        <div class=\"product__number\">\n          <span\n            class=\"product__number__minus iconfont\"\n            @click=\"() => { changeCartItem(shopId, item._id, item, -1, shopName) }\"\n          >&#xe691;</span>\n            {{getProductCartCount(shopId, item._id)}}\n          <span\n            class=\"product__number__plus iconfont\"\n            @click=\"() => { changeCartItem(shopId, item._id, item, 1, shopName) }\"\n          >&#xe668;</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive, ref, toRefs, watchEffect } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { get } from '../../utils/request'\nimport { useCommonCartEffect } from '../../effects/cartEffects'\n\nconst categories = [\n  { name: '全部商品', tab: 'all' },\n  { name:'秒杀', tab: 'seckill' },\n  { name: '新鲜水果', tab: 'fruit'}\n]\n\n// Tab 切换相关的逻辑\nconst useTabEffect = () => {\n  const currentTab = ref(categories[0].tab)\n  const handleTabClick = (tab) => {\n    currentTab.value = tab\n  }\n  return { currentTab, handleTabClick}\n}\n\n// 列表内容相关的逻辑\nconst useCurrentListEffect = (currentTab, shopId) => {\n  const content = reactive({ list: [] })\n  const getContentData = async () => {\n    const result = await get(`/api/shop/${shopId}/products`, {\n      tab: currentTab.value\n    })\n    if(result?.errno === 0 && result?.data?.length) {\n      content.list = result.data;\n    }\n  }\n  watchEffect(() => { getContentData() })\n  const { list } = toRefs(content)\n  return { list }\n}\n\n// 购物车相关逻辑\nconst useCartEffect = () => {\n  const store = useStore()\n  const { cartList, changeCartItemInfo } = useCommonCartEffect()\n  const changeShopName = (shopId, shopName) => {\n    store.commit('changeShopName', { shopId, shopName })\n  }\n  const changeCartItem = (shopId, productId, item, num, shopName) => {\n    changeCartItemInfo(shopId, productId, item, num)\n    changeShopName(shopId, shopName)\n  }\n  const getProductCartCount = (shopId, productId) => {\n    return cartList?.[shopId]?.productList?.[productId]?.count || 0\n  }\n  return { cartList, changeCartItem, getProductCartCount }\n}\n\nexport default {\n  name: 'Content',\n  props: ['shopName'],\n  setup() {\n    const route = useRoute()\n    const shopId = route.params.id\n    const { currentTab, handleTabClick } = useTabEffect()\n    const { list } = useCurrentListEffect(currentTab, shopId)\n    const { changeCartItem, cartList, getProductCartCount } = useCartEffect()\n    return {\n      categories, currentTab, handleTabClick, list,\n      shopId, changeCartItem, cartList, getProductCartCount\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n@import '../../style/mixins.scss';\n.content {\n  display: flex;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 1.5rem;\n  bottom: .5rem;\n}\n.category {\n  overflow-y: scroll;\n  height: 100%;\n  width: .76rem;\n  background: $search-bgColor;\n  &__item {\n    line-height: .4rem;\n    text-align: center;\n    font-size: .14rem;\n    color: #333;\n    &--active {\n      background: $bgColor;\n    }\n  }\n}\n.product {\n  overflow-y: scroll;\n  flex: 1;\n  &__item {\n    position: relative;\n    display: flex;\n    padding: .12rem 0;\n    margin: 0 .16rem;\n    border-bottom: .01rem solid $content-bgColor;\n    &__detail {\n      overflow: hidden;\n    }\n    &__img {\n      width: .68rem;\n      height: .68rem;\n      margin-right: .16rem;\n    }\n    &__title {\n      margin: 0;\n      line-height: .2rem;\n      font-size: .14rem;\n      color: $content-fontcolor;\n      @include ellipsis;\n    }\n    &__sales {\n      margin: .06rem 0;\n      font-size: .12rem;\n      color: $content-fontcolor;\n    }\n    &__price {\n      margin: 0;\n      line-height: .2rem;\n      font-size: .14rem;\n      color: $hightlight-fontColor;\n    }\n    &__yen {\n      font-size: .12rem;\n    }\n    &__origin {\n      margin-left: .06rem;\n      line-height: .2rem;\n      font-size: .12rem;\n      color: $light-fontColor;\n      text-decoration: line-through;\n    }\n    .product__number {\n      position: absolute;\n      right: 0;\n      bottom: .12rem;\n      line-height: .18rem;\n      &__minus {\n        position:relative;\n        top: .02rem;\n        color: $medium-fontColor;\n        margin-right: .05rem;\n      }\n      &__plus {\n        position:relative;\n        top: .02rem;\n        color: $btn-bgColor;\n        margin-left: .05rem;\n      }\n    }\n  }\n  \n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAS;;EACbA,KAAK,EAAC;AAAU;;;EAUhBA,KAAK,EAAC;AAAS;;;EAOXA,KAAK,EAAC;AAAuB;;EAC5BA,KAAK,EAAC;AAAsB;;EAC7BA,KAAK,EAAC;AAAsB;;EAC5BA,KAAK,EAAC;AAAsB;iEAC7BC,mBAAA,CAA6C;EAAvCD,KAAK,EAAC;AAAoB,GAAC,GAAK;;EAChCA,KAAK,EAAC;AAAuB;;EAGlCA,KAAK,EAAC;AAAiB;;;;uBA1BlCE,mBAAA,CAuCM,OAvCNC,UAuCM,GAtCJF,mBAAA,CASM,OATNG,UASM,I,kBARJF,mBAAA,CAOMG,SAAA,QAAAC,WAAA,CALWC,MAAA,CAAAC,UAAU,EAAlBC,IAAI;yBAFbP,mBAAA,CAOM;MANHF,KAAK,EAAAU,eAAA;QAAA;QAAA,0BAAqDH,MAAA,CAAAI,UAAU,KAAKF,IAAI,CAACG;MAAG;MAEjFC,GAAG,EAAEJ,IAAI,CAACK,IAAI;MACdC,OAAK,EAAAA,CAAA,KAAQR,MAAA,CAAAS,cAAc,CAACP,IAAI,CAACG,GAAG;wBAEnCH,IAAI,CAACK,IAAI,gCAAAG,UAAA;oCAGfhB,mBAAA,CA2BM,OA3BNiB,UA2BM,I,kBA1BJhB,mBAAA,CAyBMG,SAAA,QAAAC,WAAA,CAvBWC,MAAA,CAAAY,IAAI,EAAZV,IAAI;yBAFbP,mBAAA,CAyBM;MAxBJF,KAAK,EAAC,eAAe;MAEpBa,GAAG,EAAEJ,IAAI,CAACW;QAEXnB,mBAAA,CAAqD;MAAhDD,KAAK,EAAC,oBAAoB;MAAEqB,GAAG,EAAEZ,IAAI,CAACa;yCAC3CrB,mBAAA,CAOM,OAPNsB,UAOM,GANJtB,mBAAA,CAAmD,MAAnDuB,UAAmD,EAAAC,gBAAA,CAAhBhB,IAAI,CAACK,IAAI,kBAC5Cb,mBAAA,CAAuD,KAAvDyB,UAAuD,EAAvB,KAAG,GAAAD,gBAAA,CAAEhB,IAAI,CAACkB,KAAK,IAAE,IAAE,iBACnD1B,mBAAA,CAGI,KAHJ2B,UAGI,GAFFC,WAA6C,E,kCAAEpB,IAAI,CAACqB,KAAK,IAAE,GAC3D,iBAAA7B,mBAAA,CAAiE,QAAjE8B,WAAiE,EAA7B,GAAK,GAAAN,gBAAA,CAAEhB,IAAI,CAACuB,QAAQ,iB,KAG5D/B,mBAAA,CAUM,OAVNgC,WAUM,GATJhC,mBAAA,CAGgB;MAFdD,KAAK,EAAC,iCAAiC;MACtCe,OAAK,EAAAA,CAAA;QAAUR,MAAA,CAAA2B,cAAc,CAAC3B,MAAA,CAAA4B,MAAM,EAAE1B,IAAI,CAACW,GAAG,EAAEX,IAAI,MAAM2B,MAAA,CAAAC,QAAQ;MAAA;OACpE,GAAQ,iBAAAC,WAAA,G,iBAAO,GACd,GAAAb,gBAAA,CAAElB,MAAA,CAAAgC,mBAAmB,CAAChC,MAAA,CAAA4B,MAAM,EAAE1B,IAAI,CAACW,GAAG,KAAG,GAC3C,iBAAAnB,mBAAA,CAGgB;MAFdD,KAAK,EAAC,gCAAgC;MACrCe,OAAK,EAAAA,CAAA;QAAUR,MAAA,CAAA2B,cAAc,CAAC3B,MAAA,CAAA4B,MAAM,EAAE1B,IAAI,CAACW,GAAG,EAAEX,IAAI,KAAK2B,MAAA,CAAAC,QAAQ;MAAA;OACnE,GAAQ,iBAAAG,WAAA,E"}]}