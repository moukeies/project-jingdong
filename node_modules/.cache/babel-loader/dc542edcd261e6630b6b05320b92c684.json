{"remainingRequest":"C:\\Users\\81426\\Desktop\\jingdong\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\81426\\Desktop\\jingdong\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\81426\\Desktop\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\81426\\Desktop\\jingdong\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\81426\\Desktop\\jingdong\\src\\views\\upsertAddress\\UpsertAddress.vue?vue&type=template&id=4673359e&scoped=true","dependencies":[{"path":"C:\\Users\\81426\\Desktop\\jingdong\\src\\views\\upsertAddress\\UpsertAddress.vue","mtime":1690369928556},{"path":"C:\\Users\\81426\\Desktop\\jingdong\\babel.config.js","mtime":1690369923692},{"path":"C:\\Users\\81426\\Desktop\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\81426\\Desktop\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\81426\\Desktop\\jingdong\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\81426\\Desktop\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\81426\\Desktop\\jingdong\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCB2TW9kZWxUZXh0IGFzIF92TW9kZWxUZXh0LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKY29uc3QgX3dpdGhTY29wZUlkID0gbiA9PiAoX3B1c2hTY29wZUlkKCJkYXRhLXYtNDY3MzM1OWUiKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbik7CmNvbnN0IF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJ3cmFwcGVyIgp9Owpjb25zdCBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAidGl0bGUiCn07CmNvbnN0IF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJ0aXRsZV9fdGV4dCIKfTsKY29uc3QgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogImZvcm0iCn07CmNvbnN0IF9ob2lzdGVkXzUgPSB7CiAgY2xhc3M6ICJmb3JtX19pdGVtIgp9Owpjb25zdCBfaG9pc3RlZF82ID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgoKSA9PiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAiZm9ybV9faXRlbV9fbGFiZWwiCn0sICLmiYDlnKjln47luII6IiwgLTEgLyogSE9JU1RFRCAqLykpOwpjb25zdCBfaG9pc3RlZF83ID0gewogIGNsYXNzOiAiZm9ybV9faXRlbSIKfTsKY29uc3QgX2hvaXN0ZWRfOCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoKCkgPT4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICBjbGFzczogImZvcm1fX2l0ZW1fX2xhYmVsIgp9LCAi5bCP5Yy6L+Wkp+WOpi/lrabmoKE6IiwgLTEgLyogSE9JU1RFRCAqLykpOwpjb25zdCBfaG9pc3RlZF85ID0gewogIGNsYXNzOiAiZm9ybV9faXRlbSIKfTsKY29uc3QgX2hvaXN0ZWRfMTAgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCgpID0+IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgY2xhc3M6ICJmb3JtX19pdGVtX19sYWJlbCIKfSwgIualvOWPty3pl6jniYzlj7c6IiwgLTEgLyogSE9JU1RFRCAqLykpOwpjb25zdCBfaG9pc3RlZF8xMSA9IHsKICBjbGFzczogImZvcm1fX2l0ZW0iCn07CmNvbnN0IF9ob2lzdGVkXzEyID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgoKSA9PiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAiZm9ybV9faXRlbV9fbGFiZWwiCn0sICLmlLbotKfkuro6IiwgLTEgLyogSE9JU1RFRCAqLykpOwpjb25zdCBfaG9pc3RlZF8xMyA9IHsKICBjbGFzczogImZvcm1fX2l0ZW0iCn07CmNvbnN0IF9ob2lzdGVkXzE0ID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgoKSA9PiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAiZm9ybV9faXRlbV9fbGFiZWwiCn0sICLogZTns7vnlLXor506IiwgLTEgLyogSE9JU1RFRCAqLykpOwoKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiAiaWNvbmZvbnQgdGl0bGVfX2JhY2siLAogICAgb25DbGljazogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAoLi4uYXJncykgPT4gJHNldHVwLmhhbmRsZUJhY2tDbGljayAmJiAkc2V0dXAuaGFuZGxlQmFja0NsaWNrKC4uLmFyZ3MpKQogIH0sICLum7IiKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgX3RvRGlzcGxheVN0cmluZygkc2V0dXAuYWRkcmVzc0lkID8gJ+e8lui+keaUtui0p+WcsOWdgCcgOiAn5paw5bu65pS26LSn5Zyw5Z2AJyksIDEgLyogVEVYVCAqLyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiAidGl0bGVfX3NhdmUiLAogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSAoLi4uYXJncykgPT4gJHNldHVwLnVwc2VydEFkZHJlc3MgJiYgJHNldHVwLnVwc2VydEFkZHJlc3MoLi4uYXJncykpCiAgfSwgIuS/neWtmCIpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF81LCBbX2hvaXN0ZWRfNiwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoImlucHV0IiwgewogICAgY2xhc3M6ICJmb3JtX19pdGVtX19jb250ZW50IiwKICAgIHBsYWNlaG9sZGVyOiAi5aaC5YyX5Lqs5biCIiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSAkZXZlbnQgPT4gJHNldHVwLmZvcm1EYXRhLmNpdHkgPSAkZXZlbnQpCiAgfSwgbnVsbCwgNTEyIC8qIE5FRURfUEFUQ0ggKi8pLCBbW192TW9kZWxUZXh0LCAkc2V0dXAuZm9ybURhdGEuY2l0eV1dKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF83LCBbX2hvaXN0ZWRfOCwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoImlucHV0IiwgewogICAgY2xhc3M6ICJmb3JtX19pdGVtX19jb250ZW50IiwKICAgIHBsYWNlaG9sZGVyOiAi5aaC55CG5bel5aSn5a2m5Zu96Ziy56eR5oqA5ZutIiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSAkZXZlbnQgPT4gJHNldHVwLmZvcm1EYXRhLmRlcGFydG1lbnQgPSAkZXZlbnQpCiAgfSwgbnVsbCwgNTEyIC8qIE5FRURfUEFUQ0ggKi8pLCBbW192TW9kZWxUZXh0LCAkc2V0dXAuZm9ybURhdGEuZGVwYXJ0bWVudF1dKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF85LCBbX2hvaXN0ZWRfMTAsIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKCJpbnB1dCIsIHsKICAgIGNsYXNzOiAiZm9ybV9faXRlbV9fY29udGVudCIsCiAgICBwbGFjZWhvbGRlcjogIkHlj7fmpbxC5bGCIiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSAkZXZlbnQgPT4gJHNldHVwLmZvcm1EYXRhLmhvdXNlTnVtYmVyID0gJGV2ZW50KQogIH0sIG51bGwsIDUxMiAvKiBORUVEX1BBVENIICovKSwgW1tfdk1vZGVsVGV4dCwgJHNldHVwLmZvcm1EYXRhLmhvdXNlTnVtYmVyXV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzExLCBbX2hvaXN0ZWRfMTIsIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKCJpbnB1dCIsIHsKICAgIGNsYXNzOiAiZm9ybV9faXRlbV9fY29udGVudCIsCiAgICBwbGFjZWhvbGRlcjogIuivt+Whq+WGmeaUtui0p+S6uueahOWnk+WQjSIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVs1XSB8fCAoX2NhY2hlWzVdID0gJGV2ZW50ID0+ICRzZXR1cC5mb3JtRGF0YS5uYW1lID0gJGV2ZW50KQogIH0sIG51bGwsIDUxMiAvKiBORUVEX1BBVENIICovKSwgW1tfdk1vZGVsVGV4dCwgJHNldHVwLmZvcm1EYXRhLm5hbWVdXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTMsIFtfaG9pc3RlZF8xNCwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoImlucHV0IiwgewogICAgY2xhc3M6ICJmb3JtX19pdGVtX19jb250ZW50IiwKICAgIHBsYWNlaG9sZGVyOiAi6K+35aGr5YaZ5pS26LSn5omL5py65Y+3IiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzZdIHx8IChfY2FjaGVbNl0gPSAkZXZlbnQgPT4gJHNldHVwLmZvcm1EYXRhLnBob25lID0gJGV2ZW50KQogIH0sIG51bGwsIDUxMiAvKiBORUVEX1BBVENIICovKSwgW1tfdk1vZGVsVGV4dCwgJHNldHVwLmZvcm1EYXRhLnBob25lXV0pXSldKV0pOwp9"},{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","onClick","_cache","args","$setup","handleBackClick","_hoisted_3","_toDisplayString","addressId","upsertAddress","_hoisted_4","_hoisted_5","_hoisted_6","placeholder","formData","city","$event","_hoisted_7","_hoisted_8","department","_hoisted_9","_hoisted_10","houseNumber","_hoisted_11","_hoisted_12","name","_hoisted_13","_hoisted_14","phone"],"sources":["C:\\Users\\81426\\Desktop\\jingdong\\src\\views\\upsertAddress\\UpsertAddress.vue"],"sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div class=\"title\">\n      <div\n        class=\"iconfont title__back\"\n        @click=\"handleBackClick\"\n      >&#xe6f2;</div>\n      <div class=\"title__text\">\n        {{addressId ? '编辑收货地址': '新建收货地址'}}\n      </div>\n      <div class=\"title__save\" @click=\"upsertAddress\">保存</div>\n    </div>\n    <div class=\"form\">\n      <div class=\"form__item\">\n        <div class=\"form__item__label\">所在城市:</div>\n        <input class=\"form__item__content\" placeholder=\"如北京市\" v-model=\"formData.city\" />\n      </div>\n      <div class=\"form__item\">\n        <div class=\"form__item__label\">小区/大厦/学校:</div>\n        <input class=\"form__item__content\" placeholder=\"如理工大学国防科技园\" v-model=\"formData.department\" />\n      </div>\n      <div class=\"form__item\">\n        <div class=\"form__item__label\">楼号-门牌号:</div>\n        <input class=\"form__item__content\" placeholder=\"A号楼B层\" v-model=\"formData.houseNumber\" />\n      </div>\n      <div class=\"form__item\">\n        <div class=\"form__item__label\">收货人:</div>\n        <input class=\"form__item__content\" placeholder=\"请填写收货人的姓名\" v-model=\"formData.name\" />\n      </div>\n      <div class=\"form__item\">\n        <div class=\"form__item__label\">联系电话:</div>\n        <input class=\"form__item__content\" placeholder=\"请填写收货手机号\" v-model=\"formData.phone\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { toRefs, reactive } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter, useRoute } from 'vue-router'\nimport { post, get, patch } from '../../utils/request'\nimport useCommonAddressEffect from '../../effects/addressEffect'\n\nconst useAddressEffect = () => {\n  const store = useStore()\n  const { addressList } = toRefs(store.state)\n  const { getAddressList } = useCommonAddressEffect()\n  getAddressList()\n  return { addressList }\n}\n\nconst useFormEffect = (addressId) => {\n  const router = useRouter()\n  const formData = reactive({\n    city: '', department: '', houseNumber: '', name: '', phone: ''\n  })\n  const getAddressItem = async () => {\n    const result = await get(`/api/user/address/${addressId}`)\n    if(result?.errno === 0 && result?.data) {\n      const { city, department, houseNumber, name, phone } = result.data;\n      formData.city = city\n      formData.department = department\n      formData.houseNumber = houseNumber\n      formData.name = name\n      formData.phone = phone\n    }\n  }\n  const upsertAddress = async () => {\n    if(addressId) {\n      const result = await patch(`/api/user/address/${addressId}`, {\n        data: formData\n      })\n      if (result?.errno === 0) { router.back() } \n    }else {\n      const result = await post('/api/user/address', {\n        data: formData\n      })\n      if (result?.errno === 0) { router.back() } \n    }\n  }\n  if(addressId) { getAddressItem() }\n  return { formData, upsertAddress }\n}\n\nexport default {\n  name: 'MyAddressList',\n  setup() {\n    const router = useRouter()\n    const route = useRoute()\n    const addressId = route?.params?.id\n    const { addressList } = useAddressEffect()\n    const { formData, upsertAddress } = useFormEffect(addressId)\n    const handleBackClick = () => { router.back() }\n    return { addressId, addressList, formData, handleBackClick, upsertAddress }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n.wrapper {\n  overflow-y: auto;\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  background: $dark-bgColor;\n}\n.title {\n  display: flex;\n  line-height: .44rem;\n  background: $bgColor;\n  font-size: .16rem;\n  color: $content-fontcolor;\n  text-align: center;\n  &__back {\n    width: .2rem;\n    margin-left: .18rem;\n    font-size: .2rem;\n    color: $search-fontColor;\n  }\n  &__text {\n    flex: 1;\n    text-align: center;\n  }\n  &__save {\n    margin-right: .2rem;\n    font-size: .14rem;\n  }\n}\n.form {\n  padding: 0 .2rem;\n  margin-top: .12rem;\n  background: $bgColor;\n  border-top: .01rem solid $content-bgColor;\n  border-bottom: .01rem solid $content-bgColor;\n  &__item {\n    display: flex;\n    padding: .12rem 0;\n    line-height: .2rem;\n    font-size: .14rem;\n    border-bottom: .01rem solid $content-bgColor;\n    &:last-of-type {\n      border-bottom: none;\n    }\n    &__label {\n      margin-right: .05rem;\n      color: $medium-fontColor;\n    }\n    &__content {\n      flex: 1;\n      border: none;\n      outline: none;\n      color: #3F3F3F;\n      &::placeholder {\n        color: #3F3F3F;\n      }\n    }\n  }\n}\n</style>"],"mappings":";;;EACOA,KAAK,EAAC;AAAS;;EACbA,KAAK,EAAC;AAAO;;EAKXA,KAAK,EAAC;AAAa;;EAKrBA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAY;gEACrBC,mBAAA,CAA0C;EAArCD,KAAK,EAAC;AAAmB,GAAC,OAAK;;EAGjCA,KAAK,EAAC;AAAY;gEACrBC,mBAAA,CAA8C;EAAzCD,KAAK,EAAC;AAAmB,GAAC,WAAS;;EAGrCA,KAAK,EAAC;AAAY;iEACrBC,mBAAA,CAA4C;EAAvCD,KAAK,EAAC;AAAmB,GAAC,SAAO;;EAGnCA,KAAK,EAAC;AAAY;iEACrBC,mBAAA,CAAyC;EAApCD,KAAK,EAAC;AAAmB,GAAC,MAAI;;EAGhCA,KAAK,EAAC;AAAY;iEACrBC,mBAAA,CAA0C;EAArCD,KAAK,EAAC;AAAmB,GAAC,OAAK;;;uBA7B1CE,mBAAA,CAiCM,OAjCNC,UAiCM,GAhCJF,mBAAA,CASM,OATNG,UASM,GARJH,mBAAA,CAGe;IAFbD,KAAK,EAAC,sBAAsB;IAC3BK,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,MAAA,CAAAC,eAAA,IAAAD,MAAA,CAAAC,eAAA,IAAAF,IAAA,CAAe;KACxB,GAAQ,GACTN,mBAAA,CAEM,OAFNS,UAEM,EAAAC,gBAAA,CADFH,MAAA,CAAAI,SAAS,wCAEbX,mBAAA,CAAwD;IAAnDD,KAAK,EAAC,aAAa;IAAEK,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,MAAA,CAAAK,aAAA,IAAAL,MAAA,CAAAK,aAAA,IAAAN,IAAA,CAAa;KAAE,IAAE,E,GAEpDN,mBAAA,CAqBM,OArBNa,UAqBM,GApBJb,mBAAA,CAGM,OAHNc,UAGM,GAFJC,UAA0C,E,gBAC1Cf,mBAAA,CAAgF;IAAzED,KAAK,EAAC,qBAAqB;IAACiB,WAAW,EAAC,MAAM;+DAAUT,MAAA,CAAAU,QAAQ,CAACC,IAAI,GAAAC,MAAA;iDAAbZ,MAAA,CAAAU,QAAQ,CAACC,IAAI,E,KAE9ElB,mBAAA,CAGM,OAHNoB,UAGM,GAFJC,UAA8C,E,gBAC9CrB,mBAAA,CAA4F;IAArFD,KAAK,EAAC,qBAAqB;IAACiB,WAAW,EAAC,YAAY;+DAAUT,MAAA,CAAAU,QAAQ,CAACK,UAAU,GAAAH,MAAA;iDAAnBZ,MAAA,CAAAU,QAAQ,CAACK,UAAU,E,KAE1FtB,mBAAA,CAGM,OAHNuB,UAGM,GAFJC,WAA4C,E,gBAC5CxB,mBAAA,CAAwF;IAAjFD,KAAK,EAAC,qBAAqB;IAACiB,WAAW,EAAC,OAAO;+DAAUT,MAAA,CAAAU,QAAQ,CAACQ,WAAW,GAAAN,MAAA;iDAApBZ,MAAA,CAAAU,QAAQ,CAACQ,WAAW,E,KAEtFzB,mBAAA,CAGM,OAHN0B,WAGM,GAFJC,WAAyC,E,gBACzC3B,mBAAA,CAAqF;IAA9ED,KAAK,EAAC,qBAAqB;IAACiB,WAAW,EAAC,WAAW;+DAAUT,MAAA,CAAAU,QAAQ,CAACW,IAAI,GAAAT,MAAA;iDAAbZ,MAAA,CAAAU,QAAQ,CAACW,IAAI,E,KAEnF5B,mBAAA,CAGM,OAHN6B,WAGM,GAFJC,WAA0C,E,gBAC1C9B,mBAAA,CAAqF;IAA9ED,KAAK,EAAC,qBAAqB;IAACiB,WAAW,EAAC,UAAU;+DAAUT,MAAA,CAAAU,QAAQ,CAACc,KAAK,GAAAZ,MAAA;iDAAdZ,MAAA,CAAAU,QAAQ,CAACc,KAAK,E"}]}